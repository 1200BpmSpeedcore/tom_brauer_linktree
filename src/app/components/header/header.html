<header class="navbar bg-body-secondary fixed-top">
  <nav class="container-xxl" aria-label="Primary navigation">
    <div class="d-flex justify-content-between w-100">
      <!-- Linke Seite - Interne Links -->
      <div class="d-flex align-items-center gap-3">
        <a class="navbar-brand" routerLink="/">
          <img src="images/business_card.svg" alt="Website Logo" width="30" height="30"/>
            Tom Brauer
        </a>

        @for (item of navItems; track item.label) {
          <a class="nav-link"
            [routerLink]="item.routerLink"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: item.exact }">
            {{ item.label }}
          </a>
        }
      </div>

      <!-- Rechte Seite - Externe Links -->
      <div class="d-flex align-items-center gap-1">
        @for (social of socialLinks; track social.platform) {
          <a class="nav-link"
            [href]="social.url"
            [target]="social.external ? '_blank' : '_self'"
            [rel]="social.external ? 'noopener noreferrer' : null"
            [attr.title]="social.label">
            <img [src]="social.iconPath" [alt]="social.platform" width="30" height="30"/>
          </a>
        }

        <!-- CV Download Button -->
        <div ngbDropdown class="d-flex align-items-center">
           <button
            [ngClass]="['btn', 'btn-' + cvButtonConfig.size]"
            [disabled]="cvButtonConfig.disabled"
            ngbDropdownToggle
            [attr.title]="cvButtonConfig.tooltip">
            <img [src]="cvButtonConfig.icon"
              alt="Download Icon"
              width="30"
              height="30"/>
           </button>

           <div ngbDropdownMenu class="dropdown-menu dropdown-menu-end no-border">
            @for (cv of cvDownloads; track cv.language; let last = $last) {
              <button ngbDropdownItem
                (click)="downloadCv(cv, $event)"
                class="dropdown-item d-flex align-items-center gap-2">
                <img [src]="cv.flag"
                  [alt]="cv.label"
                  width="30"
                  height="20"/>

                <div class="d-flex flex-column">
                  <strong>{{ cv.label }}</strong>
                  <small class="text-muted">{{ cv.description }}</small>
                </div>
              </button>

              @if (!$last) {
                <div class="dropdown-divider"></div>
              }
            }
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
